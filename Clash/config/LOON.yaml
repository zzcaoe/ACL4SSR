# LOON CONFIG
# AUTHOR: LIJMXY
# DATE: 2023.01.26

[General]
# > Googleï¼ŒCloudflareï¼Œè…¾è®¯ï¼Œé˜¿é‡Œäº‘ DoH
doh-server = https://dns.google/dns-query,https://1.1.1.1/dns-query,https://doh.pub/dns-query,https://dns.alidns.com/dns-query

# > IPv6 æ”¯æŒï¼ˆé»˜è®¤å…³é—­ï¼‰
ipv6 = false

# > è·³è¿‡ä»£ç†
skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local,e.crashlynatics.com,*.cmpassport.com,*.jegotrip.com.cn,*.icitymobile.mobi,id6.me,*.pingan.com.cn,*.cmbchina.com

# > æ—è·¯éš§é“
bypass-tun = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32

# > dnsæœåŠ¡å™¨
dns-server = system,223.5.5.5,223.6.6.6,119.29.29.29

# > wifi è®¿é—®
allow-wifi-access = false

# > wifi è®¿é—®ï¼ˆhttp ç«¯å£ï¼‰
wifi-access-http-port = 7222

# > wifi è®¿é—®ï¼ˆsocket5 ç«¯å£ï¼‰
wifi-access-socks5-port = 7221

# > ä»£ç†æµ‹è¯•ç½‘å€
proxy-test-url = http://www.gstatic.com/generate_204

# > æµ‹è¯•è¶…æ—¶
test-timeout = 2

# > æ¥å£æ¨¡å¼
interface-mode = auto

# > èŠ‚ç‚¹è¿ç»­å¤±è´¥ 3 åè¿›è¡ŒèŠ‚ç‚¹åˆ‡æ¢
switch-node-after-failure-times = 3

# > èµ„æºè§£æå™¨
# resource-parser = https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/backend/dist/sub-store-parser.loon.min.js

[Host]
*.taobao.com = server:223.5.5.5
*.tmall.com = server:223.5.5.5
*.jd.com = server:119.28.28.28
*.qq.com = server:119.28.28.28
*.tencent.com = server:119.28.28.28
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
*.weixin.com = server:119.28.28.28
*.163.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
*.bilibili.com = server:119.29.29.29
*testflight.apple.com = server:8.8.4.4
mtalk.google.com = 108.177.125.188
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29

[Proxy]

[Remote Proxy]


[Proxy Group]
èŠ‚ç‚¹é€‰æ‹© = select,è‡ªåŠ¨é€‰æ‹©,æ•…éšœè½¬ç§»,è´Ÿè½½å‡è¡¡,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,æ‰‹åŠ¨åˆ‡æ¢,DIRECT
æ‰‹åŠ¨åˆ‡æ¢ = Select,url=http://www.gstatic.com/generate_204,interval=86400,timeout=5,select=0,policy-regex-filter=*
è‡ªåŠ¨é€‰æ‹© = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,select=0,policy-regex-filter=0.5
æ•…éšœè½¬ç§» = fallback,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,select=0,policy-regex-filter=é¦™æ¸¯B|æ–°åŠ å¡B|æ—¥æœ¬B
è´Ÿè½½å‡è¡¡ = load-balance,url=http://www.gstatic.com/generate_204,interval=600,tolerance=100,timeout=5,select=0,policy-regex-filter=é¦™æ¸¯B|æ–°åŠ å¡B|æ—¥æœ¬B
ç”µæŠ¥æ¶ˆæ¯ = select,èŠ‚ç‚¹é€‰æ‹©,è‡ªåŠ¨é€‰æ‹©,ç‹®åŸèŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,æ‰‹åŠ¨åˆ‡æ¢,DIRECT,timeout=5,select=1,url=http://www.gstatic.com/generate_204
OpenAi = Select,url=http://www.gstatic.com/generate_204,interval=86400,timeout=5,select=0,policy-regex-filter=*
æ²¹ç®¡è§†é¢‘ = select,èŠ‚ç‚¹é€‰æ‹©,è‡ªåŠ¨é€‰æ‹©,ç‹®åŸèŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,æ‰‹åŠ¨åˆ‡æ¢,DIRECT,timeout=5,select=1,url=http://www.gstatic.com/generate_204
å¥ˆé£è§†é¢‘ = select,èŠ‚ç‚¹é€‰æ‹©,è‡ªåŠ¨é€‰æ‹©,ç‹®åŸèŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,æ‰‹åŠ¨åˆ‡æ¢,DIRECT,timeout=5,select=1,url=http://www.gstatic.com/generate_204
å·´å“ˆå§†ç‰¹ = select,å°æ¹¾èŠ‚ç‚¹,èŠ‚ç‚¹é€‰æ‹©,æ‰‹åŠ¨åˆ‡æ¢,DIRECT,timeout=5,select=1,url=http://www.gstatic.com/generate_204
å“”å“©å“”å“© = select,å…¨çƒç›´è¿,å°æ¹¾èŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,timeout=5,select=1,url=http://www.gstatic.com/generate_204
å›½å¤–åª’ä½“ = select,èŠ‚ç‚¹é€‰æ‹©,è‡ªåŠ¨é€‰æ‹©,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,æ‰‹åŠ¨åˆ‡æ¢,DIRECT,timeout=5,select=1,url=http://www.gstatic.com/generate_204
å›½å†…åª’ä½“ = select,DIRECT,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,æ‰‹åŠ¨åˆ‡æ¢,timeout=5,select=1,url=http://www.gstatic.com/generate_204
è°·æ­ŒFCM = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©,ç¾å›½èŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,æ‰‹åŠ¨åˆ‡æ¢,timeout=5,select=1,url=http://www.gstatic.com/generate_204
å¾®è½¯äº‘ç›˜ = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©,ç¾å›½èŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,æ‰‹åŠ¨åˆ‡æ¢,timeout=5,select=1,url=http://www.gstatic.com/generate_204
å¾®è½¯æœåŠ¡ = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©,ç¾å›½èŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,æ‰‹åŠ¨åˆ‡æ¢,timeout=5,select=1,url=http://www.gstatic.com/generate_204
è‹¹æœæœåŠ¡ = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©,ç¾å›½èŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,æ‰‹åŠ¨åˆ‡æ¢,timeout=5,select=1,url=http://www.gstatic.com/generate_204
æ¸¸æˆå¹³å° = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©,ç¾å›½èŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,æ‰‹åŠ¨åˆ‡æ¢,timeout=5,select=1,url=http://www.gstatic.com/generate_204
ç½‘æ˜“éŸ³ä¹ = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©,è‡ªåŠ¨é€‰æ‹©,timeout=5,select=1,url=http://www.gstatic.com/generate_204
å…¨çƒç›´è¿ = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©,è‡ªåŠ¨é€‰æ‹©,timeout=5,select=1,url=http://www.gstatic.com/generate_204
å¹¿å‘Šæ‹¦æˆª = select,REJECT,DIRECT
åº”ç”¨å‡€åŒ– = select,REJECT,DIRECT
é¦™æ¸¯èŠ‚ç‚¹ = url-test,é¦™æ¸¯,url = http://www.gstatic.com/generate_204,interval = 600,tolerance = 1000,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png
å°æ¹¾èŠ‚ç‚¹ = url-test,å°æ¹¾,url = http://www.gstatic.com/generate_204,interval = 600,tolerance = 1000,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Taiwan.png
ç‹®åŸèŠ‚ç‚¹ = url-test,æ–°åŠ å¡,url = http://www.gstatic.com/generate_204,interval = 600,tolerance = 1000,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png
éŸ©å›½èŠ‚ç‚¹ = url-test,éŸ©å›½,url = http://www.gstatic.com/generate_204,interval = 600,tolerance = 1000,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Korea.png
æ—¥æœ¬èŠ‚ç‚¹ = url-test,æ—¥æœ¬,url = http://www.gstatic.com/generate_204,interval = 600,tolerance = 1000,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png
ç¾å›½èŠ‚ç‚¹ = url-test,ç¾å›½,url = http://www.gstatic.com/generate_204,interval = 600,tolerance = 1000,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png
æ¼ç½‘ä¹‹é±¼ = select,èŠ‚ç‚¹é€‰æ‹©,è‡ªåŠ¨é€‰æ‹©,DIRECT,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,éŸ©å›½èŠ‚ç‚¹,æ‰‹åŠ¨åˆ‡æ¢,timeout=5,select=1,url=http://www.gstatic.com/generate_204


[Remote Filter]
é¦™æ¸¯ = NameRegex, FilterKey = "(?i)(æ¸¯|HK|Hong)"
å°æ¹¾ = NameRegex, FilterKey = "(?i)(å°|TW|Tai)"
æ—¥æœ¬ = NameRegex, FilterKey = "(?i)(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan)"
éŸ©å›½ = NameRegex, FilterKey = "(?i)(KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“)"
ç¾å›½ = NameRegex, FilterKey = "(?i)(ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States)"
æ–°åŠ å¡ = NameRegex, FilterKey = "(?i)(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore)"

[Rule]
GEOIP,cn,DIRECT,no-resolve
FINAL,æ¼ç½‘ä¹‹é±¼

[Remote Rule]
https://raw.githubusercontent.com/zzcaoe/ACL4SSR/patch-1/Clash/Providers/Ruleset/MyDirect.yaml,policy=å…¨çƒç›´è¿,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list,policy=å…¨çƒç›´è¿,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list,policy=å…¨çƒç›´è¿,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list,policy=å¹¿å‘Šæ‹¦æˆª,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list,policy=åº”ç”¨å‡€åŒ–,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleFCM.list,policy=è°·æ­ŒFCM,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/GoogleCN.list,policy=å…¨çƒç›´è¿,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/SteamCN.list,policy=å…¨çƒç›´è¿,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/OneDrive.list,policy=å¾®è½¯äº‘ç›˜,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list,policy=å¾®è½¯æœåŠ¡,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list,policy=è‹¹æœæœåŠ¡,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Telegram.list,policy=ç”µæŠ¥æ¶ˆæ¯,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/OpenAi.list,policy=OpenAi,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/NetEaseMusic.list,policy=ç½‘æ˜“éŸ³ä¹,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Epic.list,policy=æ¸¸æˆå¹³å°,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Origin.list,policy=æ¸¸æˆå¹³å°,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Sony.list,policy=æ¸¸æˆå¹³å°,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Steam.list,policy=æ¸¸æˆå¹³å°,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Nintendo.list,policy=æ¸¸æˆå¹³å°,enabled=true
https://raw.githubusercontent.com/zzcaoe/ACL4SSR/patch-1/Clash/Providers/Ruleset/Uplay.yaml,policy=æ¸¸æˆå¹³å°,enabled=true
https://raw.githubusercontent.com/zzcaoe/ACL4SSR/patch-1/Clash/Providers/Ruleset/Rockstar,policy=æ¸¸æˆå¹³å°,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/YouTube.list,policy=æ²¹ç®¡è§†é¢‘,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Netflix.list,policy=å¥ˆé£è§†é¢‘,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bahamut.list,policy=å·´å“ˆå§†ç‰¹,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/BilibiliHMT.list,policy=å“”å“©å“”å“©,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Bilibili.list,policy=å“”å“©å“”å“©,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaMedia.list,policy=ğŸŒ å›½å†…åª’ä½“,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list,policy=å›½å¤–åª’ä½“,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list,policy=èŠ‚ç‚¹é€‰æ‹©,enabled=true
;https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaIp.list,policy=å…¨çƒç›´è¿,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list,policy=å…¨çƒç›´è¿,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list,policy=å…¨çƒç›´è¿,enabled=true
https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Download.list,policy=å…¨çƒç›´è¿,enabled=true
;[]GEOIP,LAN,policy=å…¨çƒç›´è¿,enabled=true


[Rewrite]

[Script]
http-response ^https?:\/\/biz\.caiyunapp\.com\/(membership_rights|v2\/user) script-path=weathervip.js, requires-body=true, timeout=10, tag=å½©äº‘å¤©æ°”VIP
http-response ^https?:\/\/backend\.getdrafts\.com\/api\/v1\/verification\/verify_receipt script-path=drafts.js, requires-body=true, timeout=10, tag=DraftsVIP

[Plugin]
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/Redirect/Redirect.plugin, policy=ALL-SUB, tag=é‡å®šå‘, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/Advertising/Advertising.plugin, policy=REJECT, tag=Advertising, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/AdvertisingScript/AdvertisingScript.plugin, policy=REJECT, tag=AdvertisingScript, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/AllInOne/AllInOne.plugin, policy=REJECT, tag=ALL IN ONE, enabled=true
https://raw.githubusercontent.com/zqzess/rule_for_quantumultX/master/Loon/Plugin/bilibili.plugin, policy=DIRECT, tag=å“”å“©å“”å“©, enabled=true
https://raw.githubusercontent.com/zqzess/rule_for_quantumultX/master/Loon/Plugin/YouTubeAd.plugin, policy=REJECT, tag=YouTubeADs, enabled=true

[Mitm]
hostname = backend.getdrafts.com,biz.caiyunapp.com
